<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<title>Frontpage</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="../public/css/showcarport.css" th:href="@{/css/showcarport.css}" rel="stylesheet"/>
</head>

<body>
<div class="page">
    <form class="form-table" th:action="@{/ordercarport}" th:method="POST">
        <h1>Tegning af din carport</h1>

        <div class="carport-svg-topview">
            <div class="carport-svg-topview" th:utext="${svg}"></div>
        </div>

        <table class="carporttable" >
            <tr style="border: none">
                <td style="text-align: left; border: none;">Carport bredde:</td>
                <td style="text-align: right;" th:text="${session.width}"></td>
                <td style="text-align: left;">cm</td>
            </tr>
            <tr>
                <td style="text-align: left; border: none;">Carport længde:</td>
                <td style="text-align: right;" th:text="${session.length}"></td>
                <td style="text-align: left;">cm</td>
            </tr>
            <tr>
                <td style="text-align: left; border: none;">Carport højde:</td>
                <td style="text-align: right;" th:text="${session.height}"></td>
                <td style="text-align: left;">cm</td>
            </tr>
            <tr>
                <td style="text-align: left; border: none;">Carport pris:</td>
                <td style="text-align: right;" th:text="${session.carportprice}"></td>
                <td style="text-align: left;">kr.</td>
            </tr>
        </table>


        <div id="hiddenDiv" class="modal" th:if="${session.showpartslist}">
            <span class="close" onclick="closeModal()">&times;</span>

                <h4>Stykliste til Carporten:</h4>
                <table id="partsTable" class="table">
                    <thead>
                    <tr>
                        <th>Materiale</th>
                        <th>Længde</th>
                        <th>Antal</th>
                        <th>Enhed</th>
                        <th>Beskrivelse</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="part : ${session.partslist}">
                        <td th:text="${part.description}">Name</td>
                        <td th:text="${part.partLength}">Length</td>
                        <td th:text="${part.quantity}">Quantity</td>
                        <td th:text="${part.unit}">Unit</td>
                        <td th:text="${part.name}">Beskrivelse</td>
                    </tr>
                    </tbody>
                </table>

        </div>



        <div class="button-container-checkout">
            <input class="shopping" style="margin-right: 20px;" type="submit" value="Ændre Bestilling"
                   formaction="/changeorder">
            <button class="betal" type="submit" name="ordercarport" th:value="${length}" formaction="/ordercarport">
                Bestil din Carport
            </button>
        </div>

    </form>
</div>
<script>

    // Funktion til at vise modalen


    document.addEventListener("DOMContentLoaded", function () {
        var showpartslist = [[${session.showpartslist}]];
        if (showpartslist) {
            var hiddenDiv = document.getElementById("hiddenDiv");
            hiddenDiv.style.display = "block";
        }
    });

    // Funktion for at lukke modalen
    function closeModal() {
        var modal = document.getElementById("hiddenDiv");
        modal.style.display = "none";
    }





</script>

</body>
</html>